(window.webpackJsonp=window.webpackJsonp||[]).push([[108],{768:function(e,t,r){"use strict";r.r(t);r(21),r(20),r(22),r(8),r(27),r(17),r(28);var l=r(3),n=r(6),c=(r(23),r(357)),o=r(344),d=r(59),m=r(636),v=r(11);function _(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var f={name:"tax-rule",middleware:["auth"],data:function(){return{result:{id:"",title:"",capped_price:"",limit_per_customer:"",usage_limit:"",min_spend:"",code:"",start_time:"",end_time:"",type:1,status:2}}},mixins:[d.a],components:{DataPage:c.default,Dropdown:o.default,datetime:m.a},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({dateValidation:function(){return new Date(this.result.end_time)>new Date(this.result.start_time)},currencyIcon:function(){var e;return(null===(e=this.setting)||void 0===e?void 0:e.currency_icon)||"$"}},Object(v.c)("setting",["setting"])),methods:{dropdownPriceType:function(data){this.result.type=data.key},dropdownSelected:function(data){this.result.status=data.key}},mounted:function(){return Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}},y=f,w=r(14),component=Object(w.a)(y,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("data-page",{ref:"dataPage",attrs:{"set-api":"setVoucher","get-api":"getVoucher","route-name":"vouchers",name:"voucher","validation-keys":["title"],result:e.result,gate:"voucher"},on:{result:function(t){e.result=t}},scopedSlots:e._u([{key:"form",fn:function(t){var l=t.hasError;return[r("div",{staticClass:"input-wrapper"},[r("label",[e._v("Title")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.result.title,expression:"result.title"}],ref:"title",class:{invalid:!e.result.title&&l},attrs:{type:"text",placeholder:"Title",name:"title"},domProps:{value:e.result.title},on:{input:function(t){t.target.composing||e.$set(e.result,"title",t.target.value)}}}),e._v(" "),!e.result.title&&l?r("span",{staticClass:"error"},[e._v("Title is required")]):e._e()]),e._v(" "),r("div",{staticClass:"dply-felx align-start j-left inputs mlr--7-5 d-block-sm"},[r("div",{staticClass:"input-wrapper mlr-7-5"},[r("div",{staticClass:"flex-v-centered"},[r("span",{staticClass:"mr-15"},[e._v("Price")]),e._v(" "),r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.result.price,expression:"result.price"}],class:{invalid:!e.result.price&&l},attrs:{type:"number",step:"any",placeholder:"Price"},domProps:{value:e.result.price},on:{input:function(t){t.target.composing||e.$set(e.result,"price",t.target.value)}}}),e._v(" "),!e.result.price&&l?r("span",{staticClass:"error"},[e._v("Price is required")]):e._e()])])]),e._v(" "),r("div",{staticClass:"input-wrapper mlr-7-5"},[r("div",{staticClass:"sided f-none-sm f-right"},[r("span",{staticClass:"mr-15 text-nowrap"},[e._v("Price Type")]),e._v(" "),r("dropdown",{attrs:{selectedKey:""+e.result.type,options:e.priceTypeObj},on:{clicked:e.dropdownPriceType}})],1)])]),e._v(" "),r("div",{staticClass:"dply-felx align-start j-left inputs mlr--7-5 d-block-sm"},[r("div",{staticClass:"input-wrapper mlr-7-5"},[r("div",{staticClass:"flex-v-centered"},[r("span",{staticClass:"mr-15"},[e._v("Capped price("+e._s(e.currencyIcon)+")")]),e._v(" "),r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.result.capped_price,expression:"result.capped_price"}],attrs:{type:"number",step:"any",placeholder:"Price"},domProps:{value:e.result.capped_price},on:{input:function(t){t.target.composing||e.$set(e.result,"capped_price",t.target.value)}}})])])]),e._v(" "),r("div",{staticClass:"input-wrapper mlr-7-5"},[r("div",{staticClass:"flex-v-centered"},[r("span",{staticClass:"mr-15"},[e._v("Min spent("+e._s(e.currencyIcon)+")")]),e._v(" "),r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.result.min_spend,expression:"result.min_spend"}],class:{invalid:!e.result.min_spend&&l},attrs:{type:"number",step:"any",placeholder:"Price"},domProps:{value:e.result.min_spend},on:{input:function(t){t.target.composing||e.$set(e.result,"min_spend",t.target.value)}}}),e._v(" "),!e.result.min_spend&&l?r("span",{staticClass:"error"},[e._v("Min spend is required")]):e._e()])])])]),e._v(" "),r("div",{staticClass:"dply-felx align-start j-left inputs mlr--7-5 d-block-sm"},[r("div",{staticClass:"input-wrapper mlr-7-5"},[r("div",{staticClass:"flex-v-centered"},[r("span",{staticClass:"mr-15"},[e._v("Usage Limit(Order)")]),e._v(" "),r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.result.usage_limit,expression:"result.usage_limit"}],class:{invalid:!e.result.usage_limit&&l},attrs:{type:"number",step:"any",placeholder:"Price"},domProps:{value:e.result.usage_limit},on:{input:function(t){t.target.composing||e.$set(e.result,"usage_limit",t.target.value)}}}),e._v(" "),!e.result.usage_limit&&l?r("span",{staticClass:"error"},[e._v("Usage limit is required")]):e._e()])])]),e._v(" "),r("div",{staticClass:"input-wrapper mlr-7-5"},[r("div",{staticClass:"flex-v-centered"},[r("span",{staticClass:"mr-15"},[e._v("Limit per customer(Order)")]),e._v(" "),r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.result.limit_per_customer,expression:"result.limit_per_customer"}],class:{invalid:!e.result.limit_per_customer&&l},attrs:{type:"number",step:"any",placeholder:"Price"},domProps:{value:e.result.limit_per_customer},on:{input:function(t){t.target.composing||e.$set(e.result,"limit_per_customer",t.target.value)}}}),e._v(" "),!e.result.limit_per_customer&&l?r("span",{staticClass:"error"},[e._v("Limit per customer is required")]):e._e()])])])]),e._v(" "),r("div",{staticClass:"input-wrapper"},[r("label",[e._v("Voucher code")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.result.code,expression:"result.code"}],class:{invalid:!e.result.code&&l},attrs:{type:"text",placeholder:"Title"},domProps:{value:e.result.code},on:{input:function(t){t.target.composing||e.$set(e.result,"code",t.target.value)}}}),e._v(" "),!e.result.code&&l?r("span",{staticClass:"error"},[e._v("Voucher code is required")]):e._e()]),e._v(" "),r("div",{staticClass:"dply-felx align-start j-left inputs mlr--7-5 d-block-sm"},[r("div",{staticClass:"input-wrapper mlr-7-5"},[r("div",{staticClass:"flex-v-centered no-border",class:{"red-border":!e.result.start_time&&l}},[r("span",{staticClass:"mr-15"},[e._v("\n            Start Time\n          ")]),e._v(" "),r("datetime",{staticClass:"form-bottom",attrs:{format:"YYYY-MM-DD H:i:s",width:"300px",readonly:""},model:{value:e.result.start_time,callback:function(t){e.$set(e.result,"start_time",t)},expression:"result.start_time"}})],1),e._v(" "),!e.result.start_time&&l?r("span",{staticClass:"error"},[e._v("\n            Start time is required.\n          ")]):e._e()]),e._v(" "),r("div",{staticClass:"input-wrapper mlr-7-5"},[r("div",{staticClass:"flex-v-centered no-border",class:{"red-border":!e.result.end_time&&l||!e.dateValidation&&l}},[r("span",{staticClass:"mr-15"},[e._v("End Time")]),e._v(" "),r("datetime",{staticClass:"form-bottom",attrs:{format:"YYYY-MM-DD H:i:s",width:"300px",readonly:""},model:{value:e.result.end_time,callback:function(t){e.$set(e.result,"end_time",t)},expression:"result.end_time"}})],1),e._v(" "),!e.result.end_time&&l?r("span",{staticClass:"error"},[e._v("\n            End time is required.\n          ")]):!e.dateValidation&&l?r("span",{staticClass:"error"},[e._v("\n            End time must be greater than Start time.\n          ")]):e._e()])]),e._v(" "),r("div",{staticClass:"input-wrapper"},[r("div",{staticClass:"dply-felx j-left mb-20 mb-sm-15"},[r("span",{staticClass:"mr-15"},[e._v("\n          Status\n        ")]),e._v(" "),r("dropdown",{attrs:{selectedKey:""+e.result.status,options:e.statusObj},on:{clicked:e.dropdownSelected}})],1)])]}}])})}),[],!1,null,"3bcd6b9c",null);t.default=component.exports;installComponents(component,{Dropdown:r(344).default})}}]);