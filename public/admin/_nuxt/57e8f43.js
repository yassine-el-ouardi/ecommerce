(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{632:function(t,e,r){"use strict";r.r(e);r(21),r(20),r(22),r(8),r(27),r(17),r(28);var n=r(3),o=r(6),l=(r(23),r(40),r(157),r(54),r(171)),c=r(11),v=r(59),d=r(548);function _(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m={name:"Invoice",data:function(){return{countryList:d}},props:{order:{type:Object}},mixins:[v.a],directives:{},components:{VueHtml2pdf:l.a},watch:{},computed:f(f({currencyPosition:function(){var t;return null===(t=this.setting)||void 0===t?void 0:t.currency_position},totalPrice:function(){var t;return null===(t=this.order)||void 0===t?void 0:t.calculated.total_price},voucherPrice:function(){var t;return null===(t=this.order)||void 0===t?void 0:t.calculated.voucher_price},bundleOffer:function(){var t;return null===(t=this.order)||void 0===t?void 0:t.calculated.bundle_offer},shippingPrice:function(){var t;return null===(t=this.order)||void 0===t?void 0:t.calculated.shipping_price},taxPrice:function(){var t;return null===(t=this.order)||void 0===t?void 0:t.calculated.tax},subtotalPrice:function(){var t;return null===(t=this.order)||void 0===t?void 0:t.calculated.subtotal},currencyIcon:function(){var t;return(null===(t=this.setting)||void 0===t?void 0:t.currency_icon)||"$"}},Object(c.c)("site-setting",["siteSetting"])),Object(c.c)("setting",["setting","base64SiteLogo","storeData"])),methods:f({generateAddress:function(t){if(!t)return"N/A";var e=[];if(e.push(null==t?void 0:t.address_1),null!=t&&t.address_2&&e.push(null==t?void 0:t.address_2),e.push((null==t?void 0:t.city)+"-"+(null==t?void 0:t.zip)),this.countryList[null==t?void 0:t.country]){var r,n=this.countryList[null==t?void 0:t.country];if(n.states[null==t?void 0:t.state])e.push(null===(r=n.states[t.state])||void 0===r?void 0:r.name);e.push(null==n?void 0:n.name)}return e.join(", ")},generatingPdf:function(){var t=this;this.$nextTick((function(){t.$refs.html2Pdf.generatePdf()}))},generatingAttribute:function(t){var e,r;return null==t||null===(e=t.updated_inventory)||void 0===e||null===(r=e.inventory_attributes)||void 0===r?void 0:r.map((function(i){var t,e,r;return[null==i||null===(t=i.attribute_value)||void 0===t||null===(e=t.attribute)||void 0===e?void 0:e.title,null==i||null===(r=i.attribute_value)||void 0===r?void 0:r.title]}))}},Object(c.b)("setting",["setConvertImage"])),beforeCreate:function(){},destroyed:function(){},mounted:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.base64SiteLogo){e.next=3;break}return e.next=3,t.setConvertImage(null===(r=t.siteSetting)||void 0===r?void 0:r.email_logo);case 3:case"end":return e.stop()}}),e)})))()}},h=r(14),component=Object(h.a)(m,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("client-only",[r("vue-html2pdf",{ref:"html2Pdf",attrs:{"show-layout":!1,"float-layout":!0,"enable-download":!0,"preview-modal":!1,"paginate-elements-by-height":1400,filename:"Invoice-"+t.order.order,"pdf-quality":3,"manual-pagination":!1,"pdf-format":"a4","pdf-orientation":"portrait"}},[r("div",{staticClass:"order-wrapper invoice-wrapper f-9",attrs:{slot:"pdf-content"},slot:"pdf-content"},[r("div",{staticClass:"sided p-30 align-start"},[r("div",{staticClass:"mx-w-350x"},[r("img",{staticClass:"h-25x w-auto mb-10",attrs:{src:"data:image/png;base64,"+t.base64SiteLogo}}),t._v(" "),r("h4",{staticClass:"fw-600 mtb-5"},[t._v("\n              "+t._s(t.getDataFromObject(t.storeData,"name"))+"\n            ")]),t._v(" "),r("p",[t._v(" "+t._s(t.generateAddress(t.setting)))]),t._v(" "),r("p",[t._v("Phone: "+t._s(t.getDataFromObject(t.setting,"phone","N/A")))])]),t._v(" "),r("div",[r("h3",{staticClass:"mb-5 bold"},[t._v("Invoice")]),t._v(" "),r("ul",{staticClass:"mx-w-400x order-details lh-2"},[r("li",[r("span",[t._v("Order")]),t._v(" "),r("span",[t._v("#"+t._s(t.order.order))])]),t._v(" "),r("li",[r("span",[t._v("Order date")]),t._v(" "),r("span",[t._v(t._s(t.order.created))])]),t._v(" "),r("li",[r("span",[t._v("Order amount")]),t._v(" "),r("span",[t._v(t._s(t.priceFormatting(t.totalPrice)))])])])])]),t._v(" "),r("div",{staticClass:"plr-30"},[r("table",{staticClass:"mn-w-600x no-bg mt-0 shipping-table"},[r("tr",{staticClass:"lite-bold"},[r("th",[t._v("Ship To")]),t._v(" "),r("th",[t._v("Order Method")])]),t._v(" "),r("tr",[r("td",{staticClass:"w-50"},[r("div",{staticClass:"mx-w-300x"},[r("b",[t._v(t._s(t.getDataFromObject(t.order,"address.name","N/A")))]),t._v(" "),t.getDataFromObject(t.order,"address")?r("span",{staticClass:"block"},[t._v("\n                    "+t._s(t.generateAddress(t.getDataFromObject(t.order,"address"))))]):t._e(),t._v(" "),r("span",{staticClass:"block"},[t._v("Email: "+t._s(t.getDataFromObject(t.order,"user.email","N/A")))]),t._v(" "),r("span",{staticClass:"block"},[t._v("Phone: "+t._s(t.getDataFromObject(t.order,"address.phone","N/A")))])])]),t._v(" "),r("td",{staticClass:"w-50"},[t._v(t._s(t.paymentTypes[t.order.order_method]))])])]),t._v(" "),r("table",{staticClass:"mn-w-600x no-bg"},[r("tr",{staticClass:"lite-bold"},[r("th",[t._v("Title")]),t._v(" "),r("th",[t._v("Delivery Fee")]),t._v(" "),r("th",[t._v("Quantity")]),t._v(" "),r("th",[t._v("Price")]),t._v(" "),r("th",[t._v("Total")])]),t._v(" "),t._l(t.order.ordered_products,(function(e,n){return r("tr",{key:n},[r("td",{staticStyle:{"min-width":"250px"}},[t._v("\n                "+t._s(e.product.title)+"\n                "),r("span",{staticStyle:{display:"block"}},t._l(t.generatingAttribute(e),(function(i){return r("span",{staticClass:"mr-15"},[r("b",{staticClass:"mr-10"},[t._v(t._s(i[0])+":")]),t._v(" "+t._s(i[1])+"\n                  ")])})),0)]),t._v(" "),r("td",[t._v(t._s(t.priceFormatting(t.shippingPrice)))]),t._v(" "),r("td",[t._v(t._s(e.quantity))]),t._v(" "),r("td",[t._v(t._s(t.priceFormatting(e.selling)))]),t._v(" "),r("td",[t._v(t._s(t.priceFormatting(e.selling*e.quantity)))])])}))],2),t._v(" "),r("div",{staticClass:"dply-felx j-right"},[r("ul",{staticClass:"mx-w-400x order-details order-price"},[r("li",[r("span",[t._v("Subtotal")]),t._v(" "),r("span",[t._v(t._s(t.priceFormatting(t.subtotalPrice)))])]),t._v(" "),r("li",[r("span",[t._v("Shipping cost")]),t._v(" "),r("span",[t._v(t._s(t.priceFormatting(t.shippingPrice)))])]),t._v(" "),t.bundleOffer?r("li",[r("span",[t._v("Bundle offer")]),t._v(" "),r("span",[t._v(t._s(t.priceFormatting(t.bundleOffer)))])]):t._e(),t._v(" "),t.voucherPrice?r("li",[r("span",[t._v("Voucher")]),t._v(" "),r("span",[t._v(t._s(t.priceFormatting(t.voucherPrice)))])]):t._e(),t._v(" "),t.taxPrice?r("li",[r("span",[t._v("Tax")]),t._v(" "),r("span",[t._v(t._s(t.priceFormatting(t.taxPrice)))])]):t._e(),t._v(" "),r("li",[r("span",[t._v("Total")]),t._v(" "),r("span",[t._v(t._s(t.priceFormatting(t.totalPrice)))])])])]),t._v(" "),r("table",{staticClass:"w-50 no-bg mt-0 shipping-table"},[r("tr",{staticClass:"lite-bold"},[r("th",[t._v("Notes")])]),t._v(" "),r("tr",[r("td",{staticClass:"w-50"},[r("p",{staticClass:"semi-bold italic mb-10"},[t._v("\n                  Please always include your order number when making any query\n                ")]),t._v(" "),r("p",[t._v("\n                  For any question regarding order, please contact: "+t._s(t.getDataFromObject(t.setting,"phone","N/A"))+"\n                ")])])])])])])])],1),t._v(" "),r("div",{staticClass:"dply-felx j-right mt-20 mt-sm-15"},[r("button",{staticClass:"plr-20 dply-felx outline-btn",on:{click:function(e){return e.preventDefault(),t.generatingPdf.apply(null,arguments)}}},[r("i",{staticClass:"icon print-icon mr-10"}),t._v("\n      Print invoice\n    ")])])],1)}),[],!1,null,null,null);e.default=component.exports}}]);